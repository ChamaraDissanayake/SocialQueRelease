<ion-header color="navbar">
  <ion-navbar color="navbar">
    <button ion-button (click)=goHome()>
      <ion-icon name="arrow-back" style="font-size: x-large;"></ion-icon>
    </button>
    <label class="backBtnLable">Settings</label>
  </ion-navbar>
</ion-header>

<ion-content padding class="subbody">
  <form [formGroup]="editsignup" (ngSubmit)="updateUserDetails()">
    <div style="margin-top: 50px;">
      <ion-list>
        <ion-label class="signuplabels">Select your Business Category</ion-label>
        <ion-item class="inputboxdecoration">
          <ion-label class="signuplabels" style="color: #6A77ED">Category</ion-label>
          <ion-select class="inputtext" style="min-width: -webkit-fill-available;" [(ngModel)]="editsignup.category" formControlName="category" value="{{this.exchangeData.userDetails.Categories}}">
            <ion-option value="Pharmacy">Pharmacy</ion-option>
            <ion-option value="Stores">Stores</ion-option>
            <ion-option value="Shop">Shop</ion-option>
          </ion-select>
        </ion-item>
      </ion-list>
    </div>

    <div style="margin-top: 30px;">
      <ion-label class="signuplabels">Shop Name</ion-label>
      <ion-item class="inputboxdecoration">
        <ion-input class="inputtext" placeholder="Enter your shop name here" type="text" [(ngModel)]="editsignup.shopName" formControlName="shopName" value="{{this.exchangeData.userDetails.BusinessName}}"></ion-input>
      </ion-item>
      <div class="validation-errors">
        <ng-container *ngFor="let validation of validation_messages.shopName">
          <div class="error-message" *ngIf="editsignup.get('shopName').hasError(validation.type) && (editsignup.get('shopName').dirty || editsignup.get('shopName').touched)">
            {{ validation.message }}
          </div>
        </ng-container>
      </div>  
    </div>
  
    <div style="margin-top: 30px;">
      <ion-label class="signuplabels">City</ion-label>
      <ion-item class="inputboxdecoration">
        <ion-input class="inputtext" placeholder="Enter your nearest city" type="text" [(ngModel)]="editsignup.city" formControlName="city" value="{{this.exchangeData.userDetails.City}}"></ion-input>
      </ion-item>
      <div class="validation-errors">
        <ng-container *ngFor="let validation of validation_messages.city">
          <div class="error-message" *ngIf="editsignup.get('city').hasError(validation.type) && (editsignup.get('city').dirty || editsignup.get('city').touched)">
            {{ validation.message }}
          </div>
        </ng-container>
      </div> 
    </div>
  
    <div style="margin-top: 30px;">
      <ion-list>
        <ion-label class="signuplabels">Language</ion-label>
        <ion-item class="inputboxdecoration">   
          <ion-label class="signuplabels" style="color: #6A77ED">Language</ion-label>     
          <ion-select class="inputtext" style="min-width: -webkit-fill-available;" [(ngModel)]="editsignup.language" formControlName="language" value="{{this.exchangeData.userDetails.Language}}">
            <ion-option value="English">English</ion-option>
            <ion-option value="Sinhala">Sinhala</ion-option>
            <ion-option value="Tamil">Tamil</ion-option>
          </ion-select>
        </ion-item>
      </ion-list>
    </div>
  
    <div style="margin-top: 30px;">
      <ion-label class="signuplabels">Enter Your Mobile Number</ion-label>
      <ion-item class="inputboxdecoration">        
        <ion-input class="inputtext" type="tel" maxlength="10" minlength="10" [(ngModel)]="editsignup.mobile" formControlName="mobile" value="{{this.exchangeData.userDetails.MSISDN}}"></ion-input>
      </ion-item>
      <div class="validation-errors">
        <ng-container *ngFor="let validation of validation_messages.mobile">
          <div class="error-message" *ngIf="editsignup.get('mobile').hasError(validation.type) && (editsignup.get('mobile').dirty || editsignup.get('mobile').touched)">
            {{ validation.message }}
          </div>
        </ng-container>
      </div>
    </div>

    <div style="margin-top: 30px;">
      <ion-label class="signuplabels">Occupant Count</ion-label>
      <ion-item class="inputboxdecoration">        
        <ion-input class="inputtext" type="tel" maxlength = "5" [(ngModel)]="editsignup.occupant" formControlName="occupant" value="{{this.exchangeData.userDetails.OccupantCount}}" onfocus="value=''"></ion-input>
      </ion-item>
      <div class="validation-errors">
        <ng-container *ngFor="let validation of validation_messages.occupant">
          <div class="error-message" *ngIf="editsignup.get('occupant').hasError(validation.type) && (editsignup.get('occupant').dirty || editsignup.get('occupant').touched)">
            {{ validation.message }}
          </div>
        </ng-container>
      </div>  
    </div>

    <div style="margin-top: 30px;">
      <ion-label class="signuplabels">Queue Length</ion-label>
      <ion-item class="inputboxdecoration">        
        <ion-input class="inputtext" type="tel" maxlength = "5" [(ngModel)]="editsignup.que" formControlName="que" value="{{this.exchangeData.userDetails.QueueLength}}" onfocus="value=''"></ion-input>
      </ion-item>
      <div class="validation-errors">
        <ng-container *ngFor="let validation of validation_messages.que">
          <div class="error-message" *ngIf="editsignup.get('que').hasError(validation.type) && (editsignup.get('que').dirty || editsignup.get('que').touched)">
            {{ validation.message }}
          </div>
        </ng-container>
      </div>  
    </div>
  
    <div style="margin-top: 50px; text-align: center;">
      <button type="submit" [disabled]="!editsignup.valid" class="submitbutton" ion-button round outline >Update</button>
    </div>

  </form>
</ion-content>